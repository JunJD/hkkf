{"version":3,"file":"static/js/165.6b50f969.chunk.js","mappings":"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","sources":["webpack://my-app/./src/pages/Rent/Search/index.module.css?3f08","pages/Rent/Search/index.js","../node_modules/antd-mobile/lib/_util/getLocale.js","../node_modules/antd-mobile/lib/search-bar/PropsType.js","../node_modules/antd-mobile/lib/search-bar/index.js","../node_modules/antd-mobile/lib/search-bar/locale/zh_CN.js","../node_modules/antd-mobile/lib/search-bar/style/css.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://my-app/./node_modules/antd-mobile/lib/search-bar/style/index.css?73d8"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"root\":\"Search_root__voF82\",\"list\":\"Search_list__5sNH9\",\"noHistory\":\"Search_noHistory__QW35r\",\"tips\":\"Search_tips__P486Q\",\"tip\":\"Search_tip__07kj3\"};","import React, { Component } from 'react'\r\n\r\nimport { SearchBar } from 'antd-mobile'\r\n\r\nimport { getCity, API } from '../../../utils'\r\n\r\nimport styles from './index.module.css'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nclass Search extends Component {\r\n  // 当前城市id\r\n  cityId = getCity().value\r\n  // 定时器id\r\n  timerId = null\r\n\r\n  state = {\r\n    // 搜索框的值\r\n    searchTxt: '',\r\n    tipsList: [],\r\n  }\r\n\r\n  /* \r\n    传递小区数据：\r\n\r\n    1 给搜索列表项添加单击事件。\r\n    2 在事件处理程序中，调用 history.replace() 方法跳转到发布房源页面。\r\n    3 将被点击的小区信息作为数据一起传递过去。\r\n\r\n    4 在发布房源页面，判断 history.loaction.state 是否为空。\r\n    5 如果为空，不做任何处理。\r\n    6 如果不为空，则将小区信息存储到发布房源页面的状态中。\r\n  */\r\n  onTipsClick = (item) => {\r\n    this.props.navigate('/rent/add', {\r\n      replace: true,\r\n      state: {\r\n        name: item.communityName,\r\n        id: item.community,\r\n      },\r\n    })\r\n  }\r\n\r\n  // 渲染搜索结果列表\r\n  renderTips = () => {\r\n    const { tipsList } = this.state\r\n\r\n    return tipsList.map((item) => (\r\n      <li\r\n        key={item.community}\r\n        className={styles.tip}\r\n        onClick={() => this.onTipsClick(item)}\r\n      >\r\n        {item.communityName}\r\n      </li>\r\n    ))\r\n  }\r\n\r\n  /* \r\n    关键词搜索小区信息\r\n  */\r\n  handleSearchTxt = (value) => {\r\n    this.setState({ searchTxt: value })\r\n\r\n    if (!value) {\r\n      // 文本框的值为空\r\n      return this.setState({\r\n        tipsList: [],\r\n      })\r\n    }\r\n\r\n    // 清除上一次的定时器\r\n    clearTimeout(this.timerId)\r\n\r\n    this.timerId = setTimeout(async () => {\r\n      // 获取小区数据\r\n      const res = await API.get('/area/community', {\r\n        params: {\r\n          name: value,\r\n          id: this.cityId,\r\n        },\r\n      })\r\n\r\n      // console.log(res)\r\n\r\n      this.setState({\r\n        tipsList: res.data.body,\r\n      })\r\n    }, 500)\r\n  }\r\n\r\n  render() {\r\n    const { navigate } = this.props\r\n    const { searchTxt } = this.state\r\n\r\n    return (\r\n      <div className={styles.root}>\r\n        {/* 搜索框 */}\r\n        <SearchBar\r\n          placeholder=\"请输入小区或地址\"\r\n          value={searchTxt}\r\n          onChange={this.handleSearchTxt}\r\n          showCancelButton={true}\r\n          onCancel={() => navigate('/rent/add', { replace: true })}\r\n        />\r\n\r\n        {/* 搜索提示列表 */}\r\n        <ul className={styles.tips}>{this.renderTips()}</ul>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default function History(props) {\r\n  const navigate = useNavigate()\r\n  return <Search {...props} navigate={navigate} />\r\n}\r\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nexports.getComponentLocale = getComponentLocale;\nexports.getLocaleCode = getLocaleCode;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction getComponentLocale(props, context, componentName, getDefaultLocale) {\n    var locale = {};\n    if (context && context.antLocale && context.antLocale[componentName]) {\n        locale = context.antLocale[componentName];\n    } else {\n        var defaultLocale = getDefaultLocale();\n        // TODO: make default lang of antd be English\n        // https://github.com/ant-design/ant-design/issues/6334\n        locale = defaultLocale['default'] || defaultLocale;\n    }\n    var result = (0, _extends3['default'])({}, locale);\n    if (props.locale) {\n        result = (0, _extends3['default'])({}, result, props.locale);\n        if (props.locale.lang) {\n            result.lang = (0, _extends3['default'])({}, locale.lang, props.locale.lang);\n        }\n    }\n    return result;\n}\nfunction getLocaleCode(context) {\n    var localeCode = context.antLocale && context.antLocale.locale;\n    // Had use LocaleProvide but didn't set locale\n    if (context.antLocale && context.antLocale.exist && !localeCode) {\n        return 'zh-cn';\n    }\n    return localeCode;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction noop() {}\nvar defaultProps = exports.defaultProps = {\n    prefixCls: 'am-search',\n    placeholder: '',\n    onSubmit: noop,\n    onChange: noop,\n    onFocus: noop,\n    onBlur: noop,\n    onClear: noop,\n    showCancelButton: false,\n    disabled: false\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames4 = require('classnames');\n\nvar _classnames5 = _interopRequireDefault(_classnames4);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _propTypes = require('prop-types');\n\nvar PropTypes = _interopRequireWildcard(_propTypes);\n\nvar _rmcFeedback = require('rmc-feedback');\n\nvar _rmcFeedback2 = _interopRequireDefault(_rmcFeedback);\n\nvar _getDataAttr = require('../_util/getDataAttr');\n\nvar _getDataAttr2 = _interopRequireDefault(_getDataAttr);\n\nvar _getLocale = require('../_util/getLocale');\n\nvar _PropsType = require('./PropsType');\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction onNextFrame(cb) {\n    if (window.requestAnimationFrame) {\n        return window.requestAnimationFrame(cb);\n    }\n    return window.setTimeout(cb, 1);\n}\nfunction clearNextFrameAction(nextFrameId) {\n    if (window.cancelAnimationFrame) {\n        window.cancelAnimationFrame(nextFrameId);\n    } else {\n        window.clearTimeout(nextFrameId);\n    }\n}\n\nvar SearchBar = function (_React$Component) {\n    (0, _inherits3['default'])(SearchBar, _React$Component);\n\n    function SearchBar(props) {\n        (0, _classCallCheck3['default'])(this, SearchBar);\n\n        var _this = (0, _possibleConstructorReturn3['default'])(this, (SearchBar.__proto__ || Object.getPrototypeOf(SearchBar)).call(this, props));\n\n        _this.onSubmit = function (e) {\n            e.preventDefault();\n            if (_this.props.onSubmit) {\n                _this.props.onSubmit(_this.state.value || '');\n            }\n            if (_this.inputRef) {\n                _this.inputRef.blur();\n            }\n        };\n        _this.onChange = function (e) {\n            if (!_this.state.focus) {\n                _this.setState({\n                    focus: true\n                });\n            }\n            var value = e.target.value;\n            if (!('value' in _this.props)) {\n                _this.setState({ value: value });\n            }\n            if (_this.props.onChange) {\n                _this.props.onChange(value);\n            }\n        };\n        _this.onFocus = function () {\n            _this.setState({\n                focus: true\n            });\n            _this.firstFocus = true;\n            if (_this.props.onFocus) {\n                _this.props.onFocus();\n            }\n        };\n        _this.onBlur = function () {\n            _this.onBlurTimeout = onNextFrame(function () {\n                if (!_this.blurFromOnClear) {\n                    if (document.activeElement !== _this.inputRef) {\n                        _this.setState({\n                            focus: false\n                        });\n                    }\n                }\n                _this.blurFromOnClear = false;\n            });\n            if (_this.props.onBlur) {\n                // fix autoFocus item blur with flash\n                setTimeout(function () {\n                    // fix ios12 wechat browser click failure after input\n                    if (document.body) {\n                        document.body.scrollTop = document.body.scrollTop;\n                    }\n                }, 100);\n                _this.props.onBlur();\n            }\n        };\n        _this.onClear = function () {\n            _this.doClear();\n        };\n        _this.doClear = function () {\n            var blurFromOnClear = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n            _this.blurFromOnClear = blurFromOnClear;\n            if (!('value' in _this.props)) {\n                _this.setState({ value: '' });\n            }\n            if (_this.props.onClear) {\n                _this.props.onClear('');\n            }\n            if (_this.props.onChange) {\n                _this.props.onChange('');\n            }\n            if (blurFromOnClear) {\n                _this.focus();\n            }\n        };\n        _this.onCancel = function () {\n            if (_this.props.onCancel) {\n                _this.props.onCancel(_this.state.value || '');\n            } else {\n                _this.doClear(false);\n            }\n        };\n        _this.focus = function () {\n            if (_this.inputRef) {\n                _this.inputRef.focus();\n            }\n        };\n        var value = void 0;\n        if ('value' in props) {\n            value = props.value || '';\n        } else if ('defaultValue' in props) {\n            value = props.defaultValue;\n        } else {\n            value = '';\n        }\n        _this.state = {\n            value: value,\n            focus: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3['default'])(SearchBar, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            if (this.rightBtnRef) {\n                var initBtn = window.getComputedStyle(this.rightBtnRef);\n                this.rightBtnInitMarginleft = initBtn.marginLeft;\n            }\n            this.componentDidUpdate();\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            if (this.syntheticPhRef) {\n                if (this.inputContainerRef && this.inputContainerRef.className.indexOf(this.props.prefixCls + '-start') > -1) {\n                    // 检测是否包含名为 ${this.props.prefixCls}-start 样式，生成动画\n                    // offsetWidth 某些时候是向上取整，某些时候是向下取整，不能用\n                    if (this.syntheticPhContainerRef) {\n                        var realWidth = this.syntheticPhContainerRef.getBoundingClientRect().width; // 包含小数\n                        this.syntheticPhRef.style.width = Math.ceil(realWidth) + 'px';\n                    }\n                    if (!this.props.showCancelButton && this.rightBtnRef) {\n                        this.rightBtnRef.style.marginRight = '0';\n                    }\n                } else {\n                    this.syntheticPhRef.style.width = '100%';\n                    if (!this.props.showCancelButton && this.rightBtnRef) {\n                        this.rightBtnRef.style.marginRight = '-' + (this.rightBtnRef.offsetWidth + (this.rightBtnInitMarginleft != null ? parseInt(this.rightBtnInitMarginleft, 10) : 0)) + 'px';\n                    }\n                }\n            }\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if ('value' in nextProps && nextProps.value !== this.state.value) {\n                this.setState({\n                    value: nextProps.value\n                });\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            if (this.onBlurTimeout) {\n                clearNextFrameAction(this.onBlurTimeout);\n                this.onBlurTimeout = null;\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _classnames3,\n                _this2 = this;\n\n            var _props = this.props,\n                prefixCls = _props.prefixCls,\n                showCancelButton = _props.showCancelButton,\n                disabled = _props.disabled,\n                placeholder = _props.placeholder,\n                className = _props.className,\n                style = _props.style,\n                maxLength = _props.maxLength;\n            // tslint:disable-next-line:variable-name\n\n            var _locale = (0, _getLocale.getComponentLocale)(this.props, this.context, 'SearchBar', function () {\n                return require('./locale/zh_CN');\n            });\n            var cancelText = _locale.cancelText;\n            var _state = this.state,\n                value = _state.value,\n                focus = _state.focus;\n\n            var wrapCls = (0, _classnames5['default'])(prefixCls, className, (0, _defineProperty3['default'])({}, prefixCls + '-start', !!(focus || value && value.length > 0)));\n            var clearCls = (0, _classnames5['default'])(prefixCls + '-clear', (0, _defineProperty3['default'])({}, prefixCls + '-clear-show', !!(focus && value && value.length > 0)));\n            var cancelCls = (0, _classnames5['default'])(prefixCls + '-cancel', (_classnames3 = {}, (0, _defineProperty3['default'])(_classnames3, prefixCls + '-cancel-show', !!(showCancelButton || focus || value && value.length > 0)), (0, _defineProperty3['default'])(_classnames3, prefixCls + '-cancel-anim', this.firstFocus), _classnames3));\n            return React.createElement(\n                'form',\n                { onSubmit: this.onSubmit, className: wrapCls, style: style, ref: function ref(el) {\n                        return _this2.inputContainerRef = el;\n                    }, action: '#' },\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-input' },\n                    React.createElement(\n                        'div',\n                        { className: prefixCls + '-synthetic-ph', ref: function ref(el) {\n                                return _this2.syntheticPhRef = el;\n                            } },\n                        React.createElement(\n                            'span',\n                            { className: prefixCls + '-synthetic-ph-container', ref: function ref(el) {\n                                    return _this2.syntheticPhContainerRef = el;\n                                } },\n                            React.createElement('i', { className: prefixCls + '-synthetic-ph-icon' }),\n                            React.createElement(\n                                'span',\n                                { className: prefixCls + '-synthetic-ph-placeholder'\n                                    // tslint:disable-next-line:jsx-no-multiline-js\n                                    , style: {\n                                        visibility: placeholder && !value ? 'visible' : 'hidden'\n                                    } },\n                                placeholder\n                            )\n                        )\n                    ),\n                    React.createElement('input', (0, _extends3['default'])({ type: 'search', className: prefixCls + '-value', value: value, disabled: disabled, placeholder: placeholder, onChange: this.onChange, onFocus: this.onFocus, onBlur: this.onBlur, ref: function ref(el) {\n                            return _this2.inputRef = el;\n                        }, maxLength: maxLength }, (0, _getDataAttr2['default'])(this.props))),\n                    React.createElement(\n                        _rmcFeedback2['default'],\n                        { activeClassName: prefixCls + '-clear-active' },\n                        React.createElement('a', { onClick: this.onClear, className: clearCls })\n                    )\n                ),\n                React.createElement(\n                    'div',\n                    { className: cancelCls, onClick: this.onCancel, ref: function ref(el) {\n                            return _this2.rightBtnRef = el;\n                        } },\n                    this.props.cancelText || cancelText\n                )\n            );\n        }\n    }]);\n    return SearchBar;\n}(React.Component);\n\nexports['default'] = SearchBar;\n\nSearchBar.defaultProps = _PropsType.defaultProps;\nSearchBar.contextTypes = {\n    antLocale: PropTypes.object\n};\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports['default'] = {\n    cancelText: '取消'\n};\nmodule.exports = exports['default'];","'use strict';\n\nrequire('../../style/css');\n\nrequire('./index.css');","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","// extracted by mini-css-extract-plugin\nexport default {};"],"names":["Search","cityId","getCity","value","timerId","state","searchTxt","tipsList","onTipsClick","item","props","navigate","replace","name","communityName","id","community","renderTips","map","className","styles","onClick","handleSearchTxt","setState","clearTimeout","setTimeout","API","params","res","data","body","this","placeholder","onChange","showCancelButton","onCancel","Component","History","useNavigate","Object","defineProperty","exports","obj","_extends2","require","_extends3","__esModule","getComponentLocale","context","componentName","getDefaultLocale","locale","antLocale","defaultLocale","result","lang","getLocaleCode","localeCode","exist","noop","defaultProps","prefixCls","onSubmit","onFocus","onBlur","onClear","disabled","_interopRequireDefault","_defineProperty3","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_classnames5","React","_interopRequireWildcard","PropTypes","_rmcFeedback2","_getDataAttr2","_getLocale","_PropsType","newObj","key","prototype","hasOwnProperty","call","SearchBar","_React$Component","_this","__proto__","getPrototypeOf","e","preventDefault","inputRef","blur","focus","target","firstFocus","cb","onBlurTimeout","blurFromOnClear","document","activeElement","window","requestAnimationFrame","scrollTop","doClear","arguments","length","undefined","defaultValue","rightBtnRef","initBtn","getComputedStyle","rightBtnInitMarginleft","marginLeft","componentDidUpdate","syntheticPhRef","inputContainerRef","indexOf","syntheticPhContainerRef","realWidth","getBoundingClientRect","width","style","Math","ceil","marginRight","offsetWidth","parseInt","nextProps","nextFrameId","cancelAnimationFrame","_classnames3","_this2","_props","maxLength","cancelText","_state","wrapCls","clearCls","cancelCls","createElement","ref","el","action","visibility","type","activeClassName","contextTypes","object","module","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","location","propFullName","secret","err","Error","getShim","isRequired","ReactPropTypes","array","bigint","bool","func","number","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes"],"sourceRoot":""}