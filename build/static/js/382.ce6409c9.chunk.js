"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[382],{7656:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var a=t(1413),i=(t(8596),t(2598)),r=t.n(i),s=(t(5321),t(2570)),o=t.n(s),l=t(5861),c=t(5671),u=t(3144),d=t(136),f=t(9388),m=(t(6631),t(9198)),p=t.n(m),h=t(7757),v=t.n(h),_=t(2791),g=t(3504),x=t(6871),y=t(5633),j={title:"Profile_title__wgADp",bg:"Profile_bg__EINdS",info:"Profile_info__64LAF",auth:"Profile_auth__PP54V",user:"Profile_user__nFF1s",myIcon:"Profile_myIcon__krDRV",avatar:"Profile_avatar__lehqH",name:"Profile_name__0xXY8",edit:"Profile_edit__qC6Ke",arrow:"Profile_arrow__09rWC",ad:"Profile_ad__8HGfx",menuItem:"Profile_menuItem__SYL0I"},N=t(184),b=[{id:1,name:"\u6211\u7684\u6536\u85cf",iconfont:"icon-coll",to:"/favorate"},{id:2,name:"\u6211\u7684\u51fa\u79df",iconfont:"icon-ind",to:"/rent"},{id:3,name:"\u770b\u623f\u8bb0\u5f55",iconfont:"icon-record"},{id:4,name:"\u6210\u4e3a\u623f\u4e3b",iconfont:"icon-identity"},{id:5,name:"\u4e2a\u4eba\u8d44\u6599",iconfont:"icon-myinfo"},{id:6,name:"\u8054\u7cfb\u6211\u4eec",iconfont:"icon-cust"}],k=p().alert,P=function(e){(0,d.Z)(t,e);var n=(0,f.Z)(t);function t(){var e;(0,c.Z)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).state={isLogin:(0,y.$D)(),userInfo:{avatar:"",nickname:""}},e.logout=function(){k("\u63d0\u793a","\u662f\u5426\u786e\u5b9a\u9000\u51fa?",[{text:"\u53d6\u6d88"},{text:"\u9000\u51fa",onPress:function(){var n=(0,l.Z)(v().mark((function n(){return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.bl.post("/user/logout");case 2:(0,y.gy)(),e.setState({isLogin:!1,userInfo:{avatar:"",nickname:""}});case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()}])},e}return(0,u.Z)(t,[{key:"componentDidMount",value:function(){this.getUserInfo()}},{key:"getUserInfo",value:function(){var e=(0,l.Z)(v().mark((function e(){var n,t,a,i;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.isLogin){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,y.bl.get("/user");case 4:200===(n=e.sent).data.status?(t=n.data.body,a=t.avatar,i=t.nickname,this.setState({userInfo:{avatar:"http://localhost:8080"+a,nickname:i}})):this.setState({isLogin:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.navigate,n=this.state,t=n.isLogin,a=n.userInfo,i=a.avatar,s=a.nickname;return(0,N.jsxs)("div",{className:j.root,children:[(0,N.jsxs)("div",{className:j.title,children:[(0,N.jsx)("img",{className:j.bg,src:"http://localhost:8080/img/profile/bg.png",alt:"\u80cc\u666f\u56fe"}),(0,N.jsxs)("div",{className:j.info,children:[(0,N.jsx)("div",{className:j.myIcon,children:(0,N.jsx)("img",{className:j.avatar,src:i||"http://localhost:8080/img/profile/avatar.png",alt:"icon"})}),(0,N.jsxs)("div",{className:j.user,children:[(0,N.jsx)("div",{className:j.name,children:s||"\u6e38\u5ba2"}),t?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:j.auth,children:(0,N.jsx)("span",{onClick:this.logout,children:"\u9000\u51fa"})}),(0,N.jsxs)("div",{className:j.edit,children:["\u7f16\u8f91\u4e2a\u4eba\u8d44\u6599",(0,N.jsx)("span",{className:j.arrow,children:(0,N.jsx)("i",{className:"iconfont icon-arrow"})})]})]}):(0,N.jsx)("div",{className:j.edit,children:(0,N.jsx)(o(),{type:"primary",size:"small",inline:!0,onClick:function(){return e("/login")},children:"\u53bb\u767b\u5f55"})})]})]})]}),(0,N.jsx)(r(),{data:b,columnNum:3,hasLine:!1,renderItem:function(e){return e.to?(0,N.jsx)(g.rU,{to:e.to,children:(0,N.jsxs)("div",{className:j.menuItem,children:[(0,N.jsx)("i",{className:"iconfont ".concat(e.iconfont)}),(0,N.jsx)("span",{children:e.name})]})}):(0,N.jsxs)("div",{className:j.menuItem,children:[(0,N.jsx)("i",{className:"iconfont ".concat(e.iconfont)}),(0,N.jsx)("span",{children:e.name})]})}}),(0,N.jsx)("div",{className:j.ad,children:(0,N.jsx)("img",{src:"http://localhost:8080/img/profile/join.png",alt:""})})]})}}]),t}(_.Component);function w(e){var n=(0,x.s0)();return(0,N.jsx)(P,(0,a.Z)((0,a.Z)({},e),{},{navigate:n}))}},2570:function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});var a=m(t(2836)),i=m(t(4333)),r=m(t(5053)),s=m(t(2749)),o=m(t(4976)),l=m(t(2455)),c=m(t(1694)),u=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(t(2791)),d=m(t(381)),f=m(t(8471));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)n.indexOf(a[i])<0&&(t[a[i]]=e[a[i]])}return t},h=/^[\u4e00-\u9fa5]{2}$/,v=h.test.bind(h);function _(e){return"string"===typeof e}function g(e){return _(e.type)&&v(e.props.children)?u.cloneElement(e,{},e.props.children.split("").join(" ")):_(e)?(v(e)&&(e=e.split("").join(" ")),u.createElement("span",null,e)):e}var x=function(e){function n(){return(0,r.default)(this,n),(0,o.default)(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return(0,l.default)(n,e),(0,s.default)(n,[{key:"render",value:function(){var e,n=this.props,t=n.children,r=n.className,s=n.prefixCls,o=n.type,l=n.size,m=n.inline,h=n.disabled,v=n.icon,_=n.loading,x=n.activeStyle,y=n.activeClassName,j=n.onClick,N=p(n,["children","className","prefixCls","type","size","inline","disabled","icon","loading","activeStyle","activeClassName","onClick"]),b=_?"loading":v,k=(0,c.default)(s,r,(e={},(0,i.default)(e,s+"-primary","primary"===o),(0,i.default)(e,s+"-ghost","ghost"===o),(0,i.default)(e,s+"-warning","warning"===o),(0,i.default)(e,s+"-small","small"===l),(0,i.default)(e,s+"-inline",m),(0,i.default)(e,s+"-disabled",h),(0,i.default)(e,s+"-loading",_),(0,i.default)(e,s+"-icon",!!b),e)),P=u.Children.map(t,g),w=void 0;if("string"===typeof b)w=u.createElement(f.default,{"aria-hidden":"true",type:b,size:"small"===l?"xxs":"md",className:s+"-icon"});else if(b){var C=b.props&&b.props.className,I=(0,c.default)("am-icon",s+"-icon","small"===l?"am-icon-xxs":"am-icon-md");w=u.cloneElement(b,{className:C?C+" "+I:I})}return u.createElement(d.default,{activeClassName:y||(x?s+"-active":void 0),disabled:h,activeStyle:x},u.createElement("a",(0,a.default)({role:"button",className:k},N,{onClick:h?void 0:j,"aria-disabled":h}),w,P))}}]),n}(u.Component);x.defaultProps={prefixCls:"am-button",size:"large",inline:!1,disabled:!1,loading:!1,activeStyle:{}},n.default=x,e.exports=n.default},5321:function(e,n,t){t(6993),t(7662),t(849)},849:function(e,n,t){t.r(n),n.default={}}}]);
//# sourceMappingURL=382.ce6409c9.chunk.js.map